{"version":3,"sources":["index.js"],"names":["form","document","querySelector","taskList","clearBtn","filter","taskInput","loadEventListener","addEventListener","getTasks","addTask","changeTaskState","removeTasks","filterTasks","tasks","readLocalStorage","forEach","appendChild","createTask","task","name","createTime","e","value","time","Date","now","toLocaleString","state","storeTask","preventDefault","target","parentElement","classList","contains","setAttribute","deleteTask","remove","firstChild","removeChild","localStorage","clear","text","toLowerCase","querySelectorAll","item","textContent","indexOf","style","display","push","setItem","JSON","stringify","taskItem","callback","index","childNodes","splice","apply","getItem","parse","taskName","li","createElement","className","createTextNode","br","link","innerHTML"],"mappings":"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","file":"2721dd2c799aec32490316044d3236f8.map","sourcesContent":["/**\n * Define UI Elements */\n\nconst form = document.querySelector('#task-form');\nconst taskList = document.querySelector('.collection');\nconst clearBtn = document.querySelector('.clear-tasks');\nconst filter = document.querySelector('#filter');\nconst taskInput = document.querySelector('#task');\n\n/**\n * Load all EventListeners\n */\n\nfunction loadEventListener() {\n  /** DOM loadEvent */\n  document.addEventListener('DOMContentLoaded', getTasks);\n  /** Add task event */\n  form.addEventListener('submit', addTask);\n  /** Remove task event */\n  taskList.addEventListener('click', changeTaskState);\n\n  /** Remove all tasks */\n  clearBtn.addEventListener('click', removeTasks);\n  /** filter tasks */\n  filter.addEventListener('keyup', filterTasks);\n}\n\n/** Display tasks from local storage */\nfunction getTasks() {\n  const tasks = readLocalStorage();\n  tasks.forEach(task => {\n    taskList.appendChild(createTask(task.name, task.createTime));\n  });\n}\n\n/** Add new task to local storage */\nfunction addTask(e) {\n  if (taskInput.value) {\n    const time = new Date(Date.now()).toLocaleString();\n    taskList.appendChild(createTask(taskInput.value, time));\n    const task = {\n      name: taskInput.value,\n      createTime: time,\n      state: 0\n    };\n    storeTask(task);\n    taskInput.value = '';\n    e.preventDefault();\n  } else {\n    e.preventDefault();\n  }\n}\n\n/** Finish or delete task */\nfunction changeTaskState(e) {\n  if (e.target.parentElement.classList.contains('collection')) {\n    if (e.target.classList.contains('finished')) {\n      e.target.setAttribute('style', '');\n      e.target.setAttribute('class', 'collection-item');\n    } else {\n      e.target.setAttribute(\n        'style',\n        'text-decoration: line-through; color: red'\n      );\n      e.target.setAttribute('class', 'collection-item finished');\n    }\n  }\n  if (e.target.parentElement.classList.contains('delete-item')) {\n    deleteTask(e.target.parentElement.parentElement, () => {\n      e.target.parentElement.parentElement.remove();\n    });\n  }\n}\n\n/** Remove tasks */\nfunction removeTasks() {\n  /**\n   * https://jsperf.com/innerhtml-vs-removechild/47\n   * taskList.innerHtml = '' */\n\n  /** Remove all the tasks */\n  while (taskList.firstChild) {\n    taskList.removeChild(taskList.firstChild);\n  }\n  localStorage.clear();\n}\n\n/** filter task by name */\nfunction filterTasks(e) {\n  const text = e.target.value.toLowerCase();\n  document.querySelectorAll('.collection-item').forEach(task => {\n    const item = task.firstChild.textContent;\n    if (item.toLowerCase().indexOf(text) !== -1) {\n      task.style.display = 'block';\n    } else {\n      task.style.display = 'None';\n    }\n  });\n}\nloadEventListener();\n\n/** localStorage */\n\n/** Store task  into localStorage */\nfunction storeTask(task) {\n  const tasks = readLocalStorage();\n  tasks.push(task);\n  localStorage.setItem('tasks', JSON.stringify(tasks));\n}\n/** Remove task from localStorage */\nfunction deleteTask(taskItem, callback) {\n  const tasks = readLocalStorage();\n\n  tasks.forEach((task, index) => {\n    if (\n      task.name === taskItem.childNodes[0].textContent &&\n      task.createTime === taskItem.childNodes[2].textContent\n    ) {\n      tasks.splice(index, 1);\n    }\n  });\n  localStorage.setItem('tasks', JSON.stringify(tasks));\n  callback.apply();\n}\n/** Return tasks from localStorage */\nfunction readLocalStorage() {\n  let tasks;\n  if (localStorage.getItem('tasks') === null) {\n    tasks = [];\n  } else {\n    tasks = JSON.parse(localStorage.getItem('tasks'));\n  }\n  return tasks;\n}\n\nfunction createTask(taskName, time) {\n  const li = document.createElement('li');\n  li.className = 'collection-item';\n  li.appendChild(document.createTextNode(taskName));\n  const br = document.createElement('br');\n  li.appendChild(br);\n  li.appendChild(document.createTextNode(`${time}`));\n  const link = document.createElement('a');\n  link.className = 'delete-item secondary-content';\n  link.innerHTML = '<i class = \"fa fa-remove\"></i>';\n  li.appendChild(link);\n  return li;\n}\n"]}